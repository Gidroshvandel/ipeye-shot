{
  "name": "IPEYE Shot to Double-Take (HTTP service)",
  "slug": "ipeye-shot",
  "version": "0.3.1",
  "description": "Headless Chromium делает снимок из iframe по URL и отправляет в Double-Take. Вызывается через HTTP.",
  "arch": ["amd64", "aarch64", "armv7"],
  "startup": "services",
  "boot": "auto",
  "host_network": true,
  "ports": { "8099/tcp": 8099 },
  "ports_description": { "8099/tcp": "HTTP API: GET /capture, GET /health" },
  "stdin": true,
  "map": ["config:rw"],
  "watchdog": "http://[HOST]:[PORT:8099]/health",
  "options": {
    "dt_url": "http://192.168.50.99:3000/api/recognize",
    "save_dir": "./ipeye-shots",

    "public_base_url": "http://192.168.50.50:8099",
    "public_prefix": "/shots",

    "view_w": 1280,
    "view_h": 720,
    "play_wait_ms": 1200,

    "max_concurrent_per_cam": 1,
    "capture_timeout_ms": 15000,

    "browser_idle_minutes": 15,
    "file_ttl_hours": 6
  },
  "schema": {
    "dt_url": "str",
    "save_dir": "str?",
    "public_base_url": "str?",
    "public_prefix": "str?",
    "view_w": "int?",
    "view_h": "int?",
    "play_wait_ms": "int?",
    "max_concurrent_per_cam": "int?",
    "capture_timeout_ms": "int?",
    "browser_idle_minutes": "int?",
    "file_ttl_hours": "int?"
  }
}
