{
  "name": "IPEYE Shot to Double-Take (HTTP service)",
  "slug": "ipeye-shot",
  "version": "0.1.2",
  "description": "Headless Chromium делает снимок из iframe по URL и отправляет в Double-Take. Вызывается через HTTP или addon_stdin.",
  "arch": ["amd64", "aarch64", "armv7"],
  "startup": "services",
  "boot": "auto",
  "host_network": true,
  "ports": { "8099/tcp": 8099 },
  "ports_description": { "8099/tcp": "HTTP API: POST /capture, GET /health" },
  "stdin": true,
  "watchdog": "http://[HOST]:[PORT:8099]/health",
  "map": ["share:rw"],
  "options": {
    "default_player_url": "",
    "default_camera": "porch",
    "dt_url": "http://192.168.50.99:3000/api/recognize/upload",
    "save_dir": "/share/ipeye_shots",
    "save_always": true,
    "play_wait_ms": 1200,
    "view_w": 1280,
    "view_h": 720,
    "headless": "new",
    "iframe_selector": "iframe",
    "http_port": 8099,
    "retries": 1,
    "retry_delay_ms": 500
  },
  "schema": {
    "default_player_url": "str?",
    "default_camera": "str?",
    "dt_url": "str",
    "save_dir": "str?",
    "save_always": "bool?",
    "play_wait_ms": "int?",
    "view_w": "int?",
    "view_h": "int?",
    "headless": "list(new|true|false)?",
    "iframe_selector": "str?",
    "http_port": "int?",
    "retries": "int?",
    "retry_delay_ms": "int?"
  }
}
